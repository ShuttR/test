name: Quality Check

on:
  pull_request_target:
    types: [ opened, edited, synchronize, reopened, ready_for_review ]
  push:
    branches: [ "main" ]

jobs:
  linter:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v3
      - run: npm i yarn
      - name: Install 🔧
        run:
          yarn
      - name: Launch Linter 👌
        run:
          yarn lint
  tests:
    runs-on: ubuntu-latest
    needs: [linter]
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v3
      - run: npm i yarn
      - name: Install 🔧
        run:
          yarn
      - name: Launch Tests 🧪
        run:
          yarn test
